<!DOCTYPE html><html><head><meta name=viewport content="initial-scale=1"></head><body id=b><script>let t=[];b.style.cssText="background:#112;margin:45vh 0 0;min-height:55vh;display:grid;align-content:start;";let e=e=>{let n=t[e].firstChild,i=`${n.t(55,80)} 0,${n.t(55,20)}`;t[e].style.cssText=`grid-row:-${e};display:grid;place-items:center;transition:all.8s;height:${0==e||t[e].i?"4.2vmin":"0"};`,t[e].i=1,n.style.cssText=`transform-style:preserve-3d;position:absolute;width:${n.w}vmin;height:${n.o}vmin;transform:rotateX(60deg) rotateZ(45deg) translate(${n.x}vmin,${n.y}vmin);background:${n.t(65)};`,n.firstChild.style.cssText=`transform-style:preserve-3d;position:absolute;width:${n.w}vmin;height:10vmin;transform:rotateX(-90deg) translateZ(${n.o-.1}vmin);transform-origin:top;background:linear-gradient(${n.t(55)} 50%,${n.t(65)} 0 calc(50% + 1px),${n.y<t[e-1]?.firstChild.y?i:"#0000 0"});clip-path:polygon(0 0,100% 0,100% 50%,calc(100% - 6.3vmin) 100%,0 100%);`,n.firstChild.nextElementSibling.style.cssText=`transform-style:preserve-3d;position:absolute;width:10vmin;height:${n.o}vmin;transform:rotateY(-90deg) translateZ(${5.1-n.w}vmin) translateX(-5vmin);background:linear-gradient(-90deg,${n.t(60)} 50%,${n.t(65)} 0 calc(50% + 1px),${n.x<t[e-1]?.firstChild.x?i:"#0000 0"});clip-path:polygon(0 0,100% 0,100% 100%,50% 100%,0 calc(100% - 6.3vmin));`},n=(e=40,n=40)=>{let i=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),d=t.length;a.w=e,a.o=n,a.t=(t,e=100)=>`hsl(${4*d}deg ${2*t-30}% ${t}% / ${e}%)`,a[d%2?"x":"y"]=d?180:0,a[d%2?"y":"x"]=d?t[d-1].firstChild[d%2?"y":"x"]:0,a.append(r,o),b.append(i),i.append(a),t.push(i)};document.onclick=document.onkeydown=i=>{if(!i.key||" "==i.key){i.preventDefault();let a=t.at(-2)?.firstChild,r=t.at(-1)?.firstChild,o=40,d=40;if(a){let n=a.x-r.x,i=a.y-r.y;o=r.w=a.w-Math.abs(n),d=r.o=a.o-Math.abs(i),(o<0||d<0)&&alert("ded"),r.x+=n/2,r.y+=i/2,e(t.length-1)}n(o,d)}},n(),e(0),setInterval(()=>{t.length>1&&(t[t.length-1].firstChild[(t.length-1)%2?"x":"y"]--,e(t.length-1))},17);</script></body></html>