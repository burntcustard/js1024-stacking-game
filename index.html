<!DOCTYPE html><html><head><meta name=viewport content="initial-scale=1"></head><body id=b><script>const t=[];b.style.cssText="background:#112;margin:50vh 0 0;min-height:50vh;display:grid;align-content:start;\n";const n=n=>{const e=t[n].firstChild,i=t[n-1]?.firstChild;t[n].style.cssText=`grid-row:-${n};display:grid;place-items:center;transition:all.8s;height:${0===n||t[n].t?"4.2vmin":"0"};`,t[n].t=1,e.style.cssText=`position:absolute;transform-style:preserve-3d;width:${e.w}vmin;height:${e.i}vmin;background:${e.o(65)};transform:rotateX(60deg) rotateZ(45deg) translate(${e.x}vmin, ${e.y}vmin)`,console.log(i&&e.y<i.y),e.firstChild.style.cssText=`transform-style:preserve-3d;position:absolute;width:${e.w}vmin;height:10vmin;transform:rotateX(-90deg) translateZ(${e.i-.1}vmin);transform-origin:top;clip-path:polygon(0 0, 100% 0, 100% 50%, calc(100% - 6.3vmin) 100%, 0 100%);background:linear-gradient(${e.o(55)} 50%,${e.o(70)} 0 calc(50% + 1px),${i&&e.y<i.y?`${e.o(55,80)} 0, ${e.o(55,20)}`:"#0000 0"})`,e.firstChild.nextElementSibling.style.cssText=`transform-style:preserve-3d;position:absolute;width:10vmin;height:${e.i}vmin;transform:rotateY(-90deg) translateZ(${5.1-e.w}vmin) translateX(-5vmin);clip-path:polygon(0 0, 100% 0, 100% 100%, 50% 100%, 0 calc(100% - 6.3vmin));background:linear-gradient(-90deg,${e.o(60)} 50%,${e.o(70)} 0 calc(50% + 1px),${i&&e.x<i.x?`${e.o(55,80)} 0, ${e.o(55,20)}`:"#0000 0"})`},e=(n=40,e=40)=>{const i=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),s=t.length;a.w=n,a.i=e,a.o=(t,n=100)=>`hsl(${4*s}deg ${2*t-30}% ${t}% / ${n}%)`,a[s%2?"x":"y"]=s?180:0,a[s%2?"y":"x"]=s?t[s-1].firstChild[s%2?"y":"x"]:0,a.append(r,o),b.append(i),i.append(a),t.push(i)};document.onclick=()=>{const i=t.at(-2)?.firstChild,a=t.at(-1)?.firstChild;let r=40,o=40;if(i){const e=i.x-a.x,s=i.y-a.y;r=a.w=i.w-Math.abs(e),o=a.i=i.i-Math.abs(s),(0>r||0>o)&&alert("ded"),a.x+=e/2,a.y+=s/2,n(t.length-1)}e(r,o)},e(),n(0),setInterval((()=>{var e;t.length>1&&(e=t.length-1,t[e].firstChild[e%2?"x":"y"]--,n(t.length-1))}),17);</script></body></html>